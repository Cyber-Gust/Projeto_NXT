/* 1. Cores e Tema Light (Preto, Branco, com Destaque Azul) */
:root{
    --cor-primaria: #000;
    --cor-secundaria: #333;
    --cor-fundo: #fff;
    --cor-fundo-secundario: #F4F4F4;
    --cor-texto: #000;
    --cor-borda: #DDD;
    --cor-destaque: #007bff; /* Azul vibrante para detalhes de a√ß√£o */
    --ok: #28a745; /* Verde para sucesso */
    --warn: #ffc107; /* Amarelo para alerta */
    --err: #dc3545; /* Vermelho para erro */
}

/* Reset e Base */
*{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',Roboto,Arial,sans-serif}
body{background:var(--cor-fundo-secundario);color:var(--cor-texto);display:flex;min-height:100vh}

/* √çcones SVG */
.icon { display: inline-block; width: 1em; height: 1em; stroke-width: 0; stroke: currentColor; fill: currentColor; vertical-align: middle; margin-right: 8px; }

/* 2. Layout Principal */
.sidebar{ width:260px;background:var(--cor-primaria);color:var(--cor-fundo);padding:20px 0;display:flex;flex-direction:column; box-shadow:2px 0 5px rgba(0,0,0,.1);position:fixed;inset:0 auto 0 0;transition:transform .3s ease-in-out;z-index:10 }
.sidebar.collapsed{transform:translateX(-100%)}
.logo{text-align:center;padding:10px 20px 30px;font-size:1.5em;font-weight:bold}
.menu-item{padding:15px 20px;cursor:pointer;border-left:5px solid transparent;transition:background .2s,border-left-color .2s; display: flex; align-items: center;}
.menu-item:hover{background:var(--cor-secundaria)}
.menu-item.active{background:var(--cor-secundaria);border-left-color:var(--cor-fundo);font-weight:bold}

.main-content{margin-left:260px;flex-grow:1;padding:30px}
.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.header{display:flex;gap:12px;align-items:center;padding-bottom:20px;border-bottom:1px solid var(--cor-borda);margin-bottom:30px}
.header h1{font-size:2em}
.burger{display:none;border:1px solid var(--cor-borda);padding:8px 10px;border-radius:6px;background:var(--cor-fundo);cursor:pointer}

/* 3. Cards e Estrutura */
.metrics-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin-bottom:24px}
.metric-card{background:var(--cor-fundo);padding:18px;border-radius:10px;box-shadow:0 2px 4px rgba(0,0,0,.05);border:1px solid var(--cor-borda)}
.metric-card h3{font-size:.95em;color:var(--cor-secundaria);margin-bottom:6px}
.metric-card p{font-size:1.6em;font-weight:800;color:var(--cor-primaria)}
.metric-card .lucro-pos{color: var(--ok);}
.metric-card .lucro-neg{color: var(--err);}
.kpi-sub{font-size:.8em;color:var(--cor-secundaria);margin-top:6px}
.section-container{display:none}
.section-container.active{display:block}
.section-box{background:var(--cor-fundo);padding:22px;border-radius:10px;box-shadow:0 2px 4px rgba(0,0,0,.05);border:1px solid var(--cor-borda);margin-bottom:22px}
.section-box h2{margin-bottom:16px;font-size:1.35em;border-bottom:1px solid var(--cor-borda);padding-bottom:10px}

#chartFatAds { max-height: 350px; width: 100%; }

/* 4. Toolbar e Busca */
.toolbar{display:flex;flex-wrap:wrap;justify-content:space-between; align-items:center; gap:10px;margin:10px 0 20px;}
.search{flex:1;min-width:220px; position: relative;}
.search input{width:100%;padding:10px 10px 10px 35px;border:1px solid var(--cor-borda);border-radius:8px;background:var(--cor-fundo);color:var(--cor-texto)}
.search::before { content: 'üîç'; position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--cor-secundaria); font-size: 1.1em;}

/* 5. Tabela (Custos, Influencers) */
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{text-align:left;padding:12px;border-bottom:1px solid var(--cor-borda)}
th{background:var(--cor-fundo-secundario);text-transform:uppercase;font-size:.8em;cursor:pointer;user-select:none;position:relative}
th.sort-asc::after{content:" ‚ñ≤";font-weight:normal;color:var(--cor-destaque)}
th.sort-desc::after{content:" ‚ñº";font-weight:normal;color:var(--cor-destaque)}

/* 6. Bot√µes e Badges */
.action-button{background:var(--cor-primaria);color:var(--cor-fundo);padding:10px 14px;border:none;border-radius:8px;cursor:pointer;font-weight:bold;transition:background .2s; display: inline-flex; align-items: center; gap: 6px;}
.action-button:hover{background:var(--cor-secundaria)}
.btn-secondary{background:var(--cor-destaque);color:var(--cor-fundo)}
.btn-secondary:hover{background:#0056b3}
.btn-err{background:var(--err);color:var(--cor-fundo)}
.btn-err:hover{background:#a71d2a}
.btn-ghost{background:transparent;border:1px solid var(--cor-borda);color:var(--cor-texto)}
.btn-ghost:hover{background:var(--cor-fundo-secundario)}
.badge{display:inline-block;padding:4px 8px;border-radius:999px;font-size:.75em;font-weight:bold}
.badge.ok{background-color:var(--ok);color:var(--cor-fundo)}
.badge.warn{background-color:var(--warn);color:var(--cor-primaria)}
.badge.err{background-color:var(--err);color:var(--cor-fundo)}

/* 7. KANBAN */
.kanban-board-wrapper { overflow-x: auto; padding-bottom: 15px; }
.kanban-board { display: flex; gap: 20px; min-width: max-content; }
.kanban-column { width: 320px; background-color: var(--cor-fundo-secundario); border-radius: 10px; padding: 10px; flex-shrink: 0; }
.kanban-column header { padding: 10px; border-bottom: 2px solid var(--cor-borda); margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
.kanban-column h3 { font-size: 1.1em; margin: 0; }
.kanban-cards { min-height: 200px; padding-bottom: 10px;}
.kanban-card { background: var(--cor-fundo); border: 1px solid var(--cor-borda); padding: 12px; border-radius: 8px; margin-top: 12px; cursor: grab; box-shadow: 0 1px 3px rgba(0,0,0,0.08); transition: box-shadow .2s, transform .2s; }
.kanban-card:hover { box-shadow: 0 4px 8px rgba(0,0,0,0.12); transform: translateY(-2px); }
.kanban-card strong { display: block; margin-bottom: 4px; }
.kanban-card small { color: var(--cor-secundaria); }
.kanban-card.dragging { opacity: 0.5; transform: rotate(3deg); background: #eef; }
.kanban-column.drag-over .kanban-cards { background-color: #e0eaff; border-radius: 8px; }

/* 8. Pagina√ß√£o */
.pagination{display:flex;gap:6px;justify-content:flex-end;margin-top:12px;flex-wrap:wrap;align-items:center}
.pagination button{padding:6px 10px;border:1px solid var(--cor-borda);background:var(--cor-fundo);color:var(--cor-texto);border-radius:6px;cursor:pointer;transition:background .2s}
.pagination button:hover{background:var(--cor-fundo-secundario)}
.pagination button.active{background:var(--cor-destaque);color:var(--cor-fundo);border-color:var(--cor-destaque)}
.pagination .per-page{margin-right:auto}
.pagination .per-page select{padding:6px;border:1px solid var(--cor-borda);border-radius:6px;background:var(--cor-fundo);color:var(--cor-texto)}

/* 9. Modal e Formul√°rios */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;z-index:50}
.modal{background:var(--cor-fundo);color:var(--cor-texto);border:1px solid var(--cor-borda);border-radius:12px;max-width:720px;width:92%;box-shadow:0 20px 60px rgba(0,0,0,.35)}
.modal header{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border-bottom:1px solid var(--cor-borda)}
.modal header h3{font-size:1.1rem;color:var(--cor-primaria)}
.modal .content{padding:18px}
.modal footer{display:flex;gap:8px;justify-content:flex-end;padding:14px 18px;border-top:1px solid var(--cor-borda)}
.close-x{cursor:pointer;border:1px solid var(--cor-borda);border-radius:8px;padding:6px 10px;background:var(--cor-fundo);transition:background .2s}
.close-x:hover{background:var(--cor-fundo-secundario)}
.progress{height:10px;background:var(--cor-fundo-secundario);border-radius:6px;overflow:hidden;border:1px solid var(--cor-borda)}
.progress > span{display:block;height:100%;background:var(--cor-destaque);width:0%;transition:width .2s ease-out}

.form-group { margin-bottom: 12px; }
.form-group label { display: block; font-size: .9em; margin-bottom: 4px; color: var(--cor-secundaria); }
.form-group input, .form-group select { width: 100%; padding: 10px; border: 1px solid var(--cor-borda); border-radius: 8px; background: var(--cor-fundo); color: var(--cor-texto); font-size: 1em; }

/* 10. Se√ß√£o Finan√ßas (NOVO) */
.financas-summary-bar {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--cor-borda);
}
.date-filter {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    background: var(--cor-fundo-secundario);
    padding: 10px;
    border-radius: 8px;
}
.date-filter input[type="date"] {
    padding: 8px;
    border: 1px solid var(--cor-borda);
    border-radius: 6px;
}
#financas-kpis.metrics-grid {
    margin-bottom: 0;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}
#financas-kpis .metric-card p {
    font-size: 1.4em;
}

/* 11. Responsividade */
@media (max-width: 1024px){
    .burger{display:inline-block}
    .main-content{margin-left:0;padding:20px}
    .sidebar{transform:translateX(-100%)}
    .sidebar.open{transform:translateX(0)}
    .header{flex-direction:column;align-items:flex-start}
    .metrics-grid{grid-template-columns:1fr}
}
