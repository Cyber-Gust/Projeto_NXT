/* ===============================
   NEXT Sports BR - Turbo | styles.css
   Tema dark-first, clean e responsivo
   =============================== */

/* --------- Reset básico --------- */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
img { display: block; max-width: 100%; }

/* --------- Tema / Cores --------- */
:root{
  --bg: #0c0c0e;
  --bg-soft: #111216;
  --panel: #15171d;
  --panel-2: #1b1f27;
  --text: #e9eaee;
  --muted: #9aa3b2;
  --border: #2a2e38;
  --border-strong: #3a3f4c;
  --primary: #007bff;
  --primary-600: #2a8cff;
  --ok: #16a34a;
  --warn: #f59e0b;
  --err: #dc2626;
  --ghost: #2a2f3a;
  --ghost-hover: #323846;
  --shadow: 0 6px 28px rgba(0,0,0,.35);
  --radius: 14px;
}

@media (prefers-color-scheme: light){
  :root{
    --bg: #f6f7fb;
    --bg-soft: #f1f3f9;
    --panel: #ffffff;
    --panel-2: #fbfbfd;
    --text: #0d1220;
    --muted: #56607a;
    --border: #e8eaf1;
    --border-strong: #d9dde7;
    --ghost: #f1f4fa;
    --ghost-hover: #e7ebf6;
    --shadow: 0 6px 26px rgba(19,33,68,.08);
  }
}

/* --------- Layout base --------- */
body{
  font: 14px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background: var(--bg);
  color: var(--text);
  display: grid;
  grid-template-columns: 260px 1fr;
  gap: 0;
  min-height: 100vh;
}

/* --------- Sidebar --------- */
.sidebar{
  background: var(--panel);
  border-right: 1px solid var(--border);
  padding: 18px 14px;
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
}
.logo{
  font-weight: 800;
  letter-spacing: .3px;
  font-size: 18px;
  padding: 6px 10px 16px;
}
.menu{ display: grid; gap: 6px; }
.menu-item{
  display: flex; align-items: center; gap: 10px;
  padding: 10px 12px;
  border-radius: 10px;
  color: var(--text);
  cursor: pointer;
  border: 1px solid transparent;
  transition: .15s ease;
}
.menu-item .icon{ width: 18px; height: 18px; fill: currentColor; opacity: .85; }
.menu-item:hover{ background: var(--panel-2); border-color: var(--border); }
.menu-item.active{ background: var(--primary); color: #fff; border-color: transparent; }
.menu-item.active .icon{ opacity: 1; }

@media (max-width: 980px){
  body{ grid-template-columns: 1fr; }
  .sidebar{
    position: fixed; z-index: 40; left: 0; top: 0; bottom: 0; width: 260px;
    transform: translateX(-100%); transition: transform .2s ease;
  }
  .sidebar.open{ transform: translateX(0); }
}

/* --------- Main / Topbar --------- */
.main-content{ padding: 18px 18px 60px; }
.topbar{
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 14px;
}
.burger{
  background: var(--ghost);
  border: 1px solid var(--border);
  color: var(--text);
  padding: 8px 12px;
  border-radius: 10px;
  cursor: pointer;
}
.burger:hover{ background: var(--ghost-hover); }

/* --------- Header --------- */
.header{
  display: flex; align-items: center; gap: 12px; margin-bottom: 16px;
}
.header h1{ font-size: 22px; font-weight: 800; }
.badge{
  display: inline-flex; align-items: center; gap: 6px;
  padding: 4px 10px; border-radius: 999px; font-size: 12px;
  border: 1px solid var(--border);
  background: var(--panel);
}
.badge.ok{ color: #10b981; border-color: rgba(16,185,129,.4); }

/* --------- Blocos / Seções --------- */
.section-container{ display: none; }
.section-container.active{ display: block; }
.section-box{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  margin-bottom: 14px;
  box-shadow: var(--shadow);
}
.section-box h2{
  font-size: 16px; font-weight: 700; margin-bottom: 12px;
}

/* --------- Filtros de data / barras --------- */
.financas-summary-bar{
  display: grid; gap: 14px; margin-bottom: 12px;
}
.date-filter{
  display: flex; flex-wrap: wrap; gap: 10px; align-items: center;
  background: var(--panel-2); border: 1px solid var(--border); padding: 10px; border-radius: 12px;
}
.date-filter label{ color: var(--muted); font-size: 12px; }
.date-filter input[type="date"]{
  background: var(--bg-soft); color: var(--text);
  border: 1px solid var(--border); border-radius: 8px; padding: 6px 8px;
}
.quick-range{ display: flex; gap: 6px; margin-left: auto; }

/* --------- Botões --------- */
.action-button{
  background: var(--primary);
  color: #fff; border: 1px solid transparent;
  padding: 8px 12px; border-radius: 10px; cursor: pointer;
  display: inline-flex; align-items: center; gap: 8px;
  font-weight: 600;
}
.action-button .icon{ width: 16px; height: 16px; fill: currentColor; }
.action-button:hover{ filter: brightness(1.05); }
.btn-secondary{ background: #0ea5e9; }
.btn-ghost{
  background: var(--ghost); color: var(--text); border: 1px solid var(--border);
}
.btn-ghost:hover{ background: var(--ghost-hover); }

.link{
  color: var(--primary); background: transparent; border: none; padding: 0; cursor: pointer;
}
.link.danger{ color: var(--err); }

/* --------- Inputs / Busca --------- */
.toolbar{
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
  margin: 10px 0 12px;
}
.search input{
  width: 260px; max-width: 100%;
  background: var(--bg-soft); color: var(--text);
  border: 1px solid var(--border); border-radius: 10px; padding: 8px 10px;
}
.scanner-box{ margin: 12px 0; display: grid; gap: 8px; }
#scanner-input{
  background: var(--bg-soft); color: var(--text);
  border: 1px solid var(--border); border-radius: 10px; padding: 10px;
}
.info-box{
  background: var(--panel-2); border: 1px solid var(--border);
  color: var(--text); padding: 10px; border-radius: 10px;
}

/* --------- Métricas (KPIs) --------- */
.metrics-grid{
  display: grid; gap: 10px;
  grid-template-columns: repeat(4, minmax(0,1fr));
  margin-bottom: 12px;
}
@media (max-width: 1080px){ .metrics-grid{ grid-template-columns: repeat(3,1fr); } }
@media (max-width: 720px){ .metrics-grid{ grid-template-columns: repeat(2,1fr); } }
@media (max-width: 480px){ .metrics-grid{ grid-template-columns: 1fr; } }

.metric-card{
  background: var(--panel-2);
  border: 1px solid var(--border);
  border-radius: 12px; padding: 12px;
  min-height: 72px; display: grid; align-content: center;
}
.metric-card .label{ color: var(--muted); font-size: 12px; margin-bottom: 4px; }
.metric-card .value{ font-size: 18px; font-weight: 800; }

/* --------- Gráfico --------- */
#chartFatAds{ width: 100%; max-height: 400px; display: block; }

/* --------- Tabelas --------- */
table{
  width: 100%; border-collapse: collapse; background: var(--panel-2);
  border: 1px solid var(--border); border-radius: 12px; overflow: hidden;
}
thead th{
  text-align: left; padding: 10px; font-size: 12px; letter-spacing: .2px;
  color: var(--muted); background: linear-gradient(to bottom, rgba(255,255,255,.02), transparent);
  border-bottom: 1px solid var(--border);
}
tbody td{
  padding: 10px; border-bottom: 1px solid var(--border);
}
tbody tr:hover{ background: rgba(255,255,255,.03); }

/* miniaturas */
.thumb{
  width: 40px; height: 40px; border-radius: 8px;
  object-fit: cover; background: var(--bg-soft);
  border: 1px solid var(--border);
}

/* Paginação */
.pagination{
  display: flex; align-items: center; gap: 10px; justify-content: flex-end;
  margin-top: 10px;
}
.pagination .muted{ color: var(--muted); }

/* --------- Kanban --------- */
.kanban-board-wrapper{
  overflow-x: auto; padding-bottom: 6px;
}
.kanban-board{
  display: grid; gap: 12px; grid-template-columns: repeat(5, minmax(240px, 1fr));
}
@media (max-width: 1280px){ .kanban-board{ grid-template-columns: repeat(4, minmax(240px,1fr)); } }
@media (max-width: 1024px){ .kanban-board{ grid-template-columns: repeat(3, minmax(240px,1fr)); } }
@media (max-width: 780px){ .kanban-board{ grid-template-columns: repeat(2, minmax(240px,1fr)); } }
@media (max-width: 540px){ .kanban-board{ grid-template-columns: 1fr; } }

.kanban-col{
  background: var(--panel-2);
  border: 1px solid var(--border);
  border-radius: 12px; display: grid; grid-template-rows: auto 1fr; min-height: 260px;
}
.kanban-col-header{
  padding: 10px 12px; display: flex; align-items: center; justify-content: space-between;
  border-bottom: 1px solid var(--border);
  position: sticky; top: 0; background: inherit; border-top-left-radius: 12px; border-top-right-radius: 12px;
}
.kanban-col-header .count{
  font-weight: 800; color: var(--muted); background: var(--bg-soft);
  border: 1px solid var(--border); padding: 2px 8px; border-radius: 999px; font-size: 12px;
}
.kanban-col-body{ padding: 12px; display: grid; gap: 10px; }

.kanban-card{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px; padding: 10px; cursor: grab;
  box-shadow: var(--shadow);
}
.kanban-card:active{ cursor: grabbing; }
.kanban-card .line{ display: block; }
.kanban-card .line.small{ color: var(--muted); font-size: 12px; }

/* --------- Modal Global --------- */
.modal-overlay{
  position: fixed; inset: 0; display: none; place-items: center;
  background: rgba(0,0,0,.5); z-index: 100;
}
.modal{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 16px;
  width: min(780px, 92vw);
  max-height: 86vh; overflow: hidden; box-shadow: var(--shadow);
}
.modal header{
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 14px; border-bottom: 1px solid var(--border);
}
.modal header h3{ font-size: 16px; font-weight: 800; }
.close-x{
  background: transparent; color: var(--muted); border: none; cursor: pointer;
  font-size: 18px; line-height: 1; padding: 6px 8px; border-radius: 8px;
}
.close-x:hover{ background: var(--ghost); color: var(--text); }
.modal .content{
  padding: 14px; overflow: auto; max-height: 60vh;
}
.modal footer{
  padding: 12px 14px; border-top: 1px solid var(--border);
  display: flex; align-items: center; justify-content: flex-end; gap: 8px;
}

/* --------- Form grid no modal --------- */
.form-grid{
  display: grid; gap: 10px; grid-template-columns: repeat(2, minmax(0,1fr));
}
.form-grid label{ display: grid; gap: 6px; font-size: 12px; color: var(--muted); }
.form-grid input, .form-grid select, .form-grid textarea{
  background: var(--bg-soft); color: var(--text);
  border: 1px solid var(--border); border-radius: 10px; padding: 8px 10px;
  font: inherit;
}
.form-grid textarea{ min-height: 110px; }

/* --------- Utilidades --------- */
.muted{ color: var(--muted); }
.icon{ width: 18px; height: 18px; fill: currentColor; }

/* --------- Acessibilidade / foco --------- */
:focus-visible{
  outline: 2px solid var(--primary-600);
  outline-offset: 2px;
}

/* --------- Ajustes finos para novas colunas --------- */
thead th:first-child, tbody td:first-child{ width: 64px; }
#tabela-estoque thead th:first-child,
#tabela-produtos thead th:first-child,
#tabela-trocas thead th:nth-child(6){
  width: 68px;
}

/* --------- Responsivo geral --------- */
@media (max-width: 640px){
  .toolbar{ flex-direction: column; align-items: stretch; }
  .search input{ width: 100%; }
  .date-filter{ gap: 8px; }
}

/* --------- Print friendly (opcional) --------- */
@media print{
  .sidebar, .topbar, .burger, .pagination, .scanner-box, .toolbar { display: none !important; }
  body{ grid-template-columns: 1fr; background: #fff; color: #000; }
  .section-box{ box-shadow: none; border-color: #ccc; }
}
